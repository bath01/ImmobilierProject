-- MariaDB dump 10.19  Distrib 10.11.2-MariaDB, for osx10.18 (x86_64)
--
-- Host: localhost    Database: real_estate
-- ------------------------------------------------------
-- Server version	8.0.32

/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8mb4 */;
/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */;
/*!40103 SET TIME_ZONE='+00:00' */;
/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='NO_AUTO_VALUE_ON_ZERO' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;

--
-- Table structure for table `CONCERN`
--

DROP TABLE IF EXISTS `CONCERN`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `CONCERN` (
  `IDUSER` int NOT NULL,
  `IDPROPERTY` int NOT NULL,
  `NUMCONT` char(10) NOT NULL,
  `DATESTARTCONCERN` date DEFAULT NULL,
  `DATEENDCONCERN` date DEFAULT NULL,
  PRIMARY KEY (`IDUSER`,`IDPROPERTY`,`NUMCONT`),
  KEY `FK_CONCERN_CONCERN_CONTRACT` (`NUMCONT`),
  KEY `FK_CONCERN_CONCERN3_PROPERTY` (`IDPROPERTY`),
  CONSTRAINT `FK_CONCERN_CONCERN2_USERS` FOREIGN KEY (`IDUSER`) REFERENCES `USERS` (`IDUSER`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `FK_CONCERN_CONCERN3_PROPERTY` FOREIGN KEY (`IDPROPERTY`) REFERENCES `PROPERTY` (`IDPROPERTY`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `FK_CONCERN_CONCERN_CONTRACT` FOREIGN KEY (`NUMCONT`) REFERENCES `CONTRACTS` (`NUMCONT`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `CONCERN`
--

LOCK TABLES `CONCERN` WRITE;
/*!40000 ALTER TABLE `CONCERN` DISABLE KEYS */;
/*!40000 ALTER TABLE `CONCERN` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `CONTRACTS`
--

DROP TABLE IF EXISTS `CONTRACTS`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `CONTRACTS` (
  `NUMCONT` char(10) NOT NULL,
  `IDTYPECONT` int NOT NULL,
  `DATESTARTCONT` date DEFAULT NULL,
  `DATEENDCONT` date DEFAULT NULL,
  `PRICECONT` char(10) DEFAULT NULL,
  PRIMARY KEY (`NUMCONT`),
  KEY `FK_CONTRACT_BIND_TYPEOFCO` (`IDTYPECONT`),
  CONSTRAINT `FK_CONTRACT_BIND_TYPEOFCO` FOREIGN KEY (`IDTYPECONT`) REFERENCES `TYPEOFCONTRAT` (`IDTYPECONT`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `CONTRACTS`
--

LOCK TABLES `CONTRACTS` WRITE;
/*!40000 ALTER TABLE `CONTRACTS` DISABLE KEYS */;
/*!40000 ALTER TABLE `CONTRACTS` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `HAVE`
--

DROP TABLE IF EXISTS `HAVE`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `HAVE` (
  `IDUSER` int NOT NULL,
  `IDROLE` int NOT NULL,
  PRIMARY KEY (`IDUSER`,`IDROLE`),
  KEY `FK_HAVE_HAVE_ROLE` (`IDROLE`),
  CONSTRAINT `FK_HAVE_HAVE2_USERS` FOREIGN KEY (`IDUSER`) REFERENCES `USERS` (`IDUSER`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `FK_HAVE_HAVE_ROLE` FOREIGN KEY (`IDROLE`) REFERENCES `ROLE` (`IDROLE`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `HAVE`
--

LOCK TABLES `HAVE` WRITE;
/*!40000 ALTER TABLE `HAVE` DISABLE KEYS */;
/*!40000 ALTER TABLE `HAVE` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `PROPERTY`
--

DROP TABLE IF EXISTS `PROPERTY`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `PROPERTY` (
  `IDPROPERTY` int NOT NULL,
  `IDTYPEPROP` int NOT NULL,
  `LABELPROPERTY` char(100) DEFAULT NULL,
  `BUILDDATEPROPERTY` date DEFAULT NULL,
  `MAPPROPERTY` char(50) DEFAULT NULL,
  `SURFACEPROPERTY` char(10) DEFAULT NULL,
  `STATUSPROPERTY` smallint DEFAULT NULL,
  `PRICEPROPERTY` char(10) DEFAULT NULL,
  PRIMARY KEY (`IDPROPERTY`),
  KEY `FK_PROPERTY_CORRESPON_PROPERTY` (`IDTYPEPROP`),
  CONSTRAINT `FK_PROPERTY_CORRESPON_PROPERTY` FOREIGN KEY (`IDTYPEPROP`) REFERENCES `PROPERTYTYPE` (`IDTYPEPROP`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `PROPERTY`
--

LOCK TABLES `PROPERTY` WRITE;
/*!40000 ALTER TABLE `PROPERTY` DISABLE KEYS */;
/*!40000 ALTER TABLE `PROPERTY` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `PROPERTYTYPE`
--

DROP TABLE IF EXISTS `PROPERTYTYPE`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `PROPERTYTYPE` (
  `IDTYPEPROP` int NOT NULL,
  `LABELTYPEPROP` char(50) DEFAULT NULL,
  PRIMARY KEY (`IDTYPEPROP`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `PROPERTYTYPE`
--

LOCK TABLES `PROPERTYTYPE` WRITE;
/*!40000 ALTER TABLE `PROPERTYTYPE` DISABLE KEYS */;
/*!40000 ALTER TABLE `PROPERTYTYPE` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `ROLE`
--

DROP TABLE IF EXISTS `ROLE`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `ROLE` (
  `IDROLE` int NOT NULL,
  `LABELROLE` char(10) DEFAULT NULL,
  PRIMARY KEY (`IDROLE`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `ROLE`
--

LOCK TABLES `ROLE` WRITE;
/*!40000 ALTER TABLE `ROLE` DISABLE KEYS */;
/*!40000 ALTER TABLE `ROLE` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `TYPEOFCONTRAT`
--

DROP TABLE IF EXISTS `TYPEOFCONTRAT`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `TYPEOFCONTRAT` (
  `IDTYPECONT` int NOT NULL,
  `LABELTYPECONT` char(15) DEFAULT NULL,
  PRIMARY KEY (`IDTYPECONT`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `TYPEOFCONTRAT`
--

LOCK TABLES `TYPEOFCONTRAT` WRITE;
/*!40000 ALTER TABLE `TYPEOFCONTRAT` DISABLE KEYS */;
/*!40000 ALTER TABLE `TYPEOFCONTRAT` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `USERS`
--

DROP TABLE IF EXISTS `USERS`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `USERS` (
  `IDUSER` int NOT NULL,
  `LASTNAMEUSER` char(50) DEFAULT NULL,
  `FIRSTNAMEUSER` char(100) DEFAULT NULL,
  `NUMUSER` char(10) DEFAULT NULL,
  `BIRTHDAYUSER` date DEFAULT NULL,
  PRIMARY KEY (`IDUSER`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `USERS`
--

LOCK TABLES `USERS` WRITE;
/*!40000 ALTER TABLE `USERS` DISABLE KEYS */;
/*!40000 ALTER TABLE `USERS` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `VISITREQUEST`
--

DROP TABLE IF EXISTS `VISITREQUEST`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `VISITREQUEST` (
  `IDUSER` int NOT NULL,
  `IDPROPERTY` int NOT NULL,
  `STATUSVISITREQUEST` char(15) DEFAULT NULL,
  `DATEVISITREQUEST` date DEFAULT NULL,
  PRIMARY KEY (`IDUSER`,`IDPROPERTY`),
  KEY `FK_VISITREQ_VISITREQU_PROPERTY` (`IDPROPERTY`),
  CONSTRAINT `FK_VISITREQ_VISITREQU_PROPERTY` FOREIGN KEY (`IDPROPERTY`) REFERENCES `PROPERTY` (`IDPROPERTY`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `FK_VISITREQ_VISITREQU_USERS` FOREIGN KEY (`IDUSER`) REFERENCES `USERS` (`IDUSER`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `VISITREQUEST`
--

LOCK TABLES `VISITREQUEST` WRITE;
/*!40000 ALTER TABLE `VISITREQUEST` DISABLE KEYS */;
/*!40000 ALTER TABLE `VISITREQUEST` ENABLE KEYS */;
UNLOCK TABLES;
/*!40103 SET TIME_ZONE=@OLD_TIME_ZONE */;

/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;

-- Dump completed on 2023-03-10 11:44:46
